<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex03</title>
</head>
<body>

<h1> 클로저 </h1>


<script>
'use strict'

function closureMaker(fnType, count) {
	switch(fnType) {
	   case "sum" :
		return function() {
			var sum = 0;
			for(var i=1; i<=count; i++) {
				console.log("sum-",i,":",sum);
				sum += i;
			}
			console.log("Total:", sum);
	   }();
	   case "factorial" : 
		   return function(){
		      var sum = 1;
		      for(var i=1; i<count; i++) {
	              console.log("fac-",i,":",sum);
		    	  sum *= count;
		      }
		      console.log("Total:", sum);
	   }();
	   default :
		   return function() { console.log("지원하지않는 연산자") };
	}
}

var fn1 = closureMaker("sum", 10);
var fn2 = closureMaker("factorial", 7);


</script>

클로저는 외부 함수의 변수를 자신의 메모리에 복제해두고 외부함수가 종료되어 사라져도 사용할 수 있도록 처리한다.

</body>
</html>